---
import { fetchWorks } from "../../utils/api";

const works = await fetchWorks();

import type { Highlight, Testimonial } from "../../utils/api";

const { highlights, testimonials }: { highlights?: Highlight[], testimonials?: Testimonial[] } = Astro.props;
---

<section class="w-full px-6 grid grid-cols-4 gap-6 text-neutral-800 mb-16">
    <h5 class="text-4xl">Tech Highlights</h5>
    <div class="col-span-3">
        <div class="grid grid-cols-3 gap-6">
            {
                highlights?.map(({ title, description }) => (
                    <article class="space-y-3">
                        <h6 class="text-xl font-medium">{title}</h6>
                        <p>{description}</p>
                    </article>
                ))
            }
        </div>
        <div></div><div class="col-span-3 mt-16 mb-9">
            {testimonials && testimonials.length > 0 && (
                <div>
                    <p class="text-neutral-500 border-b border-neutral-600 pb-1">
                        In Their Words
                    </p>
                    {testimonials.map((testimonial) => (
                        <div class="mb-9">
                            <p class="text-neutral-600 text-lg mt-3 mb-6">
                                "{testimonial.message}"
                            </p>
                            <div class="flex space-x-6">
                                <div id="avatar list" class="flex items-center">
                                    <img
                                        src={testimonial.personImage}
                                        alt={testimonial.name}
                                        class="rounded-full w-14 h-14"
                                    />
                                    <img
                                        src={testimonial.companyImage}
                                        alt={testimonial.company}
                                        class="rounded-full w-14 h-14 -ml-3"
                                    />
                                </div>
                                <div>
                                    <h6 class="text-neutral-800">{testimonial.name} - {testimonial.role}</h6>
                                    <p class="text-neutral-500">
                                        {testimonial.company}
                                    </p>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            )}
        </div>
        <div></div>
        <div class="col-span-3 mt-9">
            <p
                class="w-full border-b border-neutral-600 mb-12 text-neutral-500"
            >
                More Works
            </p>
            <div class="w-full overflow-x-scroll">
                <div class="flex space-x-5">
                    {
                        works.map(({ title, image, description }) => (
                            <div class="p-4 space-y-4 border border-neutral-400 rounded-sm min-w-72 z-10">
                                <h5 class="text-2xl text-neutral-800">
                                    {title}
                                </h5>
                                <img src={image} class="rounded-sm w-full" />
                                <div class="flex justify-between space-x-2">
                                    <p class="text-sm text-neutral-600 grow line-clamp-2">
                                        {description}
                                    </p>
                                    <button class="text-sm text-white bg-orange-600 rounded-sm min-w-28 px-3 py-2">
                                        Read More
                                    </button>
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </div>
    </div>
</section>
