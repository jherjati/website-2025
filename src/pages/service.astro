---
import Managed from "../components/poin/Managed.astro";
import CTA from "../components/service/CTA.astro";
import Expertise from "../components/service/Expertise.astro";
import Hero from "../components/service/Hero.astro";
import Process from "../components/service/Process.astro";
import Work from "../components/service/Work.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout theme="light">
    <Hero />
    <Expertise />
    <Process />
    <Managed brand="orange" />
    <Work />
    <CTA />
</Layout>

<script is:inline client:load>
    const script = document.createElement("script");
    script.src =
        "https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.13.0/lottie.min.js";
    script.onload = () => {
        window.lottie.loadAnimation({
            container: document.getElementById("canvas-0"),
            renderer: "canvas", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/service.json",
        });

        window.lottie.loadAnimation({
            container: document.getElementById("canvas-1"),
            renderer: "canvas", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/process-1.json",
        });
        window.lottie.loadAnimation({
            container: document.getElementById("canvas-2"),
            renderer: "canvas", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/process-2.json",
        });
        window.lottie.loadAnimation({
            container: document.getElementById("canvas-3"),
            renderer: "svg", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/process-3.json",
        });
        window.lottie.loadAnimation({
            container: document.getElementById("canvas-4"),
            renderer: "svg", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/process-4.json",
        });
        window.lottie.loadAnimation({
            container: document.getElementById("canvas-5"),
            renderer: "svg", // svg / canvas / html
            loop: true,
            autoplay: true,
            path: "/animation/process-5.json",
        });

        // window.lottie.loadAnimation({
        //     container: document.getElementById("canvas-6"),
        //     renderer: "svg", // svg / canvas / html
        //     loop: true,
        //     autoplay: true,
        //     path: "/animation/process.json",
        // });
    };
    document.body.appendChild(script);

    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                }
            });
        },
        { threshold: 0.1 },
    );

    // Observe all animated elements
    document
        .querySelectorAll(".fade-in-up")
        .forEach((el) => observer.observe(el));
</script>

<style is:global>
    .typo-landing h1,
    .typo-landing h2,
    .typo-landing h3,
    .typo-landing h4,
    .typo-landing h5,
    .typo-landing h6 {
        font-family: "Host-Grotesk", sans-serif;
    }

    /* Initial hidden state */
    .fade-in-up {
        opacity: 0;
        transform: translateY(30px);
    }

    /* Animation when visible */
    .fade-in-up.visible {
        animation: fadeInUp 0.75s ease-out forwards;
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
